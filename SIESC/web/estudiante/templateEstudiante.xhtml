<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <h:head>
        <link rel="icon" href="#{resource['assets/itc.png']}" type="image/x-icon"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Sistema Escolar ITC - Estudiantes</title>


        <h:outputStylesheet  library="css" name="estudiantes.css"/>

        <h:outputScript library="primeicons" name="primeicons.css"/>
          <!-- Ultima Theme y Layout -->
  
    <h:outputStylesheet library="ultima" name="ultima-layout/css/layout-blue.css"/>
    <h:outputStylesheet library="ultima" name="ultima-layout/css/animate.css"/>
    <h:outputStylesheet library="ultima" name="ultima-layout/css/ripple.css"/>
    <h:outputScript library="ultima" name="ultima-layout/js/layout.js"/>




        <script>
            // Variable para saber si el sidebar está abierto o cerrado
            let sidebarOpen = true; // Por defecto abierto

            function toggleSidebar() {
                const sidebar = document.querySelector('.layout-sidebar');

                if (sidebarOpen) {
                    // Cerrar
                    sidebar.classList.add('collapsed');
                    sidebarOpen = false;
                } else {
                    // Abrir
                    sidebar.classList.remove('collapsed');
                    sidebarOpen = true;
                }
            }
            
            
            

function aplicarTooltipsSidebar() {
    document.querySelectorAll(".ui-panelmenu-header").forEach(function(header) {
        const enlace = header.querySelector(".ui-panelmenu-header-link");
        if (enlace) {
            // Si el submenu tiene data-tooltip, úsalo
            let texto = header.dataset.tooltip || enlace.innerText.trim();

            enlace.dataset.tooltip = texto;
        }
    });
}

document.addEventListener("DOMContentLoaded", aplicarTooltipsSidebar);

// Reaplicar tooltips cada vez que PrimeFaces renderice algo
if (window.PrimeFaces) {
    PrimeFaces.onContentReady(aplicarTooltipsSidebar);
}


        </script>


    </h:head>

    <h:body>

        <f:event type="preRenderView" listener="#{controlSesion.verificarEstudiante}"/>

        <div class="layout-wrapper">

            <!-- ================= TOPBAR ================= -->
            <div class="layout-topbar">


                <div class="menu-toggle-btn" onclick="toggleSidebar()">
                    <i class="pi pi-bars"></i>
                </div>

                <h:graphicImage library="assets" name="TECNM-blanco.png" style="height:45px;  margin-left:13px;" />

                <div class="title">SISTEMA INTEGRAL DE INFORMACIÓN DEL INSTITUTO TECNOLÓGICO DE CUAUTLA <br/> PORTAL DEL ALUMNO</div>

                <h:form>
                    <p:commandButton value="Cerrar sesión" icon="pi pi-sign-out"  
                                     action="#{controlSesion.cerrarSesion}" ajax="false" styleClass="cerrar-sesion-btn"  />
                </h:form>
            </div>


            <div class="layout-main-container">

                <!-- ================= SIDEBAR ================= -->
                <div class="layout-sidebar">

                    <h:form>
                        <p:panelMenu style="width:100%;" styleClass="custom-menu">   

                            <!-- =================== INFORMACIÓN ESCOLAR =================== -->
                            <p:submenu label="Información Escolar" styleClass="submenu-icon-car"    pt:data-tooltip="Información Escolar" >
                                      
                                  <p:submenu label="Servicio Social" icon="pi pi-briefcase">
                                           <p:menuitem value="Realizar Solicitud" action="realizarSolicitud" icon="pi pi-file-edit" />
                                           <p:menuitem value="Imprimir Solicitud" action="imprimirSolicitud" icon="pi pi-print" />
                                  </p:submenu>
                                  <p:submenu label="Residencias" icon="pi pi-home">
                                           <p:menuitem value="Solicitud de Redidencias Profecionales" action="solicitudResidencias" icon="pi pi-file-edit" />
                                           <p:menuitem value="Impresion de solicitud de Recidencias" action="impresionRecidencias" icon="pi pi-print" />
                                  </p:submenu>
                                  <p:menuitem value="Datos Socioeconómicos" action="datosSocioeconomicos" icon="pi pi-user" />
                                  <p:menuitem value="Boleta de Calificaciones" action="boletaCalificaciones" icon="pi pi-book" />
                                  <p:menuitem value="Avance Reticular" action="avanceReticular" icon="pi pi-chart-bar" />
                                  <p:menuitem value="Kardex de Calificaciones" action="kardexCalificaciones" icon="pi pi-folder-open" />
                                  <p:menuitem value="Horario" action="horario" icon="pi pi-clock" />
                                  <p:menuitem value="Calif. de Exámenes Globales o Especiales" action="examenesEspeciales" icon="pi pi-check-circle" />
                                  <p:menuitem value="Calificaciones Parciales" action="calificacionesParciales" icon="pi pi-list" />
                                  <p:menuitem value="Gestión de Curso" action="gestionCurso" icon="pi pi-briefcase" />
                                  <p:submenu label="Comité Académico" icon="pi pi-users">
                                           <p:menuitem value="Realizar Peticion" action="realizarPeticion" icon="pi pi-envelope" />
                                           <p:menuitem value="Respuestas" action="imprimirRespuestas" icon="pi pi-comments" />
                                  </p:submenu>
                                  <p:submenu label="Centro de Información" icon="pi pi-info-circle">
                                           <p:menuitem value="Libros Disponibles" action="librosDisponibles" icon="pi pi-book" />
                                           <p:menuitem value="Solicitar Libros" action="solicitarLibros" icon="pi pi-file-edit" />
                                  </p:submenu>
                                  <p:menuitem value="Datos Generales" action="datosGenerales" icon="pi pi-id-card" />
                                 <p:menuitem value="Pago Referenciado" action="pagoReferenciado" icon="pi pi-wallet" />

                            </p:submenu>

                            <!-- =================== INSCRIPCIONES =================== -->
                            <p:submenu label="Inscripciones" styleClass="submenu-icon-pencil"    pt:data-tooltip="Inscripciones">
                                 <p:submenu label="Seleccion  de Materias" icon="pi pi-book">
                                           <p:menuitem value="Ene-Jun/Ago-Dic" update="growlMensajes"  actionListener="#{inscripcionesBean.verificarAcceso}"   icon="pi pi-book"  ajax="true"/>
                                           <p:menuitem value="Verano" action="verano" icon="pi pi-file-edit" />
                                  </p:submenu>
                                <p:menuitem value="Grupos Disponibles" action="/estudiante/autorizacionAcademica?faces-redirect=true"  actionListener="#{autorizacionBean.inicializacion}" icon="pi pi-users"/>
                                <p:menuitem value="Horario Inscripcion" action="horarios"   icon="pi pi-calendar-plus"/>
                            </p:submenu>

                            <!-- =================== EVALUACIÓN DOCENTE =================== -->
                            <p:submenu label="Evaluacion Docente" styleClass="submenu-icon-bar"  pt:data-tooltip="Eval. Docente">
                                <p:menuitem value="Realizar evaluacion"  action="realizarEvaluacion" icon="pi pi-file-edit"/>
                                <p:menuitem value="Evaluaciones Realizadas" action="evaluacionRealizadas" icon="pi pi-book"/>
                            </p:submenu>

                        </p:panelMenu>
                       
                        

                        <style>.ui-widget {
                                font-size: 10px;
                            }</style>

                        <p:growl id="growlMensajes" showDetail="true" sticky="false" life="4000"/>
                    </h:form>

                </div>

 
                
                
                <!-- ================= CONTENIDO ================= -->
<div class="layout-main">
    <!-- CAJA DE BIENVENIDA ESTUDIANTES -->
    <h:panelGroup id="welcomeBoxEstudiantes" layout="block" rendered="#{view.viewId eq '/estudiante/index.xhtml'}" styleClass="welcome-box">

        <div class="dashboard-header">  
            <h3 class="dashboard-title">
                Bienvenid@ al Módulo de Estudiantes
            </h3>

        </div>

    <p:panel styleClass="info-panel">

        <!-- PÁGINA WEB -->
        <div class="info-section">
            <div class="info-header">Página Web</div>
            <div class="info-content">
                Para ingresar a la Página Web favor de dar clic en la liga.
                O ingresa aquí:
                <a href="https://www.cuautla.tecnm.mx" target="_blank">
                    www.cuautla.tecnm.mx
                </a>
            </div>
        </div>

        <!-- MANUAL DE INSCRIPCIÓN -->
        <div class="info-section">
            <div class="info-header">Manual de Inscripción</div>
            <div class="info-content">
                Recuerda que en el Manual de Inscripción se encuentran los pasos
                a seguir con lo que respecta a tu proceso de reinscripción.
                <br/>
                <strong>
                    <a href="https://www.cuautla.tecnm.mx/avisos/division/2021/PROCESO_REINSCRIPCI%C3%93N_ENERO-UNIO_1.pdf">Manual de Reinscripción</a>
                </strong>
            </div>
        </div>

        <!-- SISTEMA DE GESTIÓN AMBIENTAL -->
        <div class="info-section">
            <div class="info-header">Sistema de Gestión Ambiental</div>
            <div class="info-content">
                Si deseas colaborar activamente en el cuidado del medio ambiente,
                intégrate al club ambiental, haciendo tu registro en:
                <br/>
                <a href="mailto:calidad@cuautla.tecnm.mx">
                    calidad@cuautla.tecnm.mx
                </a>
            </div>
        </div>

        <!-- MENSAJES -->
        <div class="info-section">
            <div class="info-header">Mensajes</div>
            <div class="info-content">
                Revise el menú Inscripciones → Horarios Reinscripción, para saber
                si tiene adeudos. Acuda a realizarlos o no podrá realizar su
                reinscripción a tiempo.
            </div>
        </div>

        <!-- AVISO IMPORTANTE -->
        <div class="info-warning">
            <strong>Selección de materias:</strong>
            03 de enero del 2026 a las hrs.
            <br/>
            <span class="warning-text">
                Si no cubre su cuota de reinscripción se le eliminarán las materias
                seleccionadas.
            </span>
        </div>

    </p:panel>




    </h:panelGroup>

    <!-- CONTENIDO DINÁMICO -->
    <ui:insert name="content" />
</div>

  </div>

                <script>
                    document.addEventListener("DOMContentLoaded", function () {
                        function hideWelcomeBox() {
                            const box = document.getElementById("welcomeBox");
                            if (box) {
                                box.classList.add("hide-welcome");
                            }
                        }

                        // 1. Ocultar cuando se hace clic en el menú
                        document.querySelectorAll(".ui-menuitem-link, .ui-panelmenu .ui-menuitem-link")
                                .forEach(item => item.addEventListener("click", hideWelcomeBox));

                        // 2. OCULTAR DESPUÉS de cualquier actualización AJAX
                        if (window.PrimeFaces) {
                            PrimeFaces.onAjaxCompletion(function () {
                                hideWelcomeBox();
                            });
                        }
                    });
                </script>



          

            <!-- ================= FOOTER ================= -->
            <div class="layout-footer">
                © 2025 Tecnológico Nacional de México Campus Cuautla | Estudiantes
            </div>

        </div>

    </h:body>



</html>





