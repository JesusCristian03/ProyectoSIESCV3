<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">



    <body>
        

        <ui:composition template="./templateEstudiante.xhtml">

    
    

    
            <ui:define name="content">

                <f:view>


<h:form>
   <p:panel styleClass="custom-card" style="width:100%; margin: 0 auto; display:block;">


           <f:facet name="header">
            <h:outputText value="Información del Estudiante" 
                          styleClass="custom-title" />
        </f:facet>



        <p:panelGrid columns="2"
                     style="width:95%; margin:0 auto;"
                     columnClasses="label,value"
                     styleClass="custom-grid">

            <p:outputLabel value="No. de Control:" />
            <p:outputLabel value="#{inscripcionesBean.estudiante.noDeControl}" />

            <p:outputLabel value="Estudiante:" />
            <p:outputLabel value="#{inscripcionesBean.estudiante.apellidoPaterno}
                                   #{inscripcionesBean.estudiante.apellidoMaterno}
                                   #{inscripcionesBean.estudiante.nombreAlumno}" />

            <p:outputLabel value="Carrera:" />
            <p:outputLabel value="#{inscripcionesBean.estudiante.reticula.nombreCarrera}" />

            <p:outputLabel value="Semestre:" />
            <p:outputLabel value="#{inscripcionesBean.estudiante.semestre}" />

            <p:outputLabel value="Periodo Escolar:" />
            <p:outputLabel value="#{inscripcionesBean.periodoActual.identificacionLarga}" />

            <p:outputLabel value="Calificación:" />
            <p:outputLabel value="#{inscripcionesBean.promedio}" />

            <p:outputLabel value="Especialidad:" />
            <p:outputLabel value="#{inscripcionesBean.estudiante.especialidad}" />

        </p:panelGrid>

    </p:panel>
</h:form>



                    <h:form id="seleccion">
                        <p:tabView id="tabVista" cache="false">

                            <p:ajax event="tabChange" listener="#{inscripcionesBean.onTabChange}" update="@this :seleccion:tabVista:panelGrupos" />
                            <f:facet name="actions">

                            </f:facet>
                            <p:tab title="Asignatura" >
                                <f:facet name="actions">

                                </f:facet>

               
                                
                                
                                
                                
                                <p:dataTable id="tablaReticula" value="#{inscripcionesBean.listaM}" var="asignatura" rowStyleClass="registroPrueba" showGridlines="true">                                        

                                    <p:column styleClass="#{asignatura.semestre1.color}">
                                        <f:facet name="header">
                                            <h:outputText value="Semestre 1" style="font-size:13px; font-weight:bold; text-align:center; display:block;" />
                                        </f:facet>

                                        <div style="text-align:center;">
                                            <h:outputText value="#{asignatura.semestre1.materia}" style="font-size:12px; color: #{asignatura.semestre1.color=='cursando' ? '#FFFFFF' : '#090811'};" />
                                        </div>

                                        <p:commandLink  
                                            value="#{asignatura.semestre1.nombreMateria}" 
                                            rendered="#{asignatura.semestre1.disponible eq 'true'}"
                                            actionListener="#{inscripcionesBean.onMateriaClick(asignatura.semestre1)}"
                                            update=":seleccion:tabVista:growlMensajes 
                                            :seleccion:tabVista:tablaHorarioSeleccionandoEmergente 
                                            :seleccion:tabVista:toolbarBotones"
                                            oncomplete="PF('selecionMateria').show()"
                                            style="color:#090811; font-size:12px; text-decoration:none; font-weight:normal;"
                                            onmouseover="this.style.color = '#FFFFFF';"
                                            onmouseout="this.style.color = '#090811';" />

                                        <h:outputText value="#{asignatura.semestre1.nombreMateria}" 
                                                      rendered="#{not asignatura.semestre1.disponible eq 'true'}"
                                                      style="font-size:12px; color: #{asignatura.semestre1.color=='cursando' ? '#FFFFFF' : '#090811'};" />

                                        <div style="color:#090811; text-align:center;">
                                            <h:outputText value="#{asignatura.semestre1.calificacion}" style="font-size:12px;" />
                                        </div>
                                    </p:column>

                                    <p:column styleClass="#{asignatura.semestre2.color}">
                                        <f:facet name="header">
                                            <h:outputText value="Semestre 2" style="font-size:13px; font-weight:bold; text-align:center; display:block;" />
                                        </f:facet>

                                        <div style="text-align:center;">
                                            <h:outputText value="#{asignatura.semestre2.materia}" style="font-size:12px; color: #{asignatura.semestre2.color=='cursando' ? '#FFFFFF' : '#090811'};" />
                                        </div>

                                        <p:commandLink  
                                            value="#{asignatura.semestre2.nombreMateria}" 
                                            rendered="#{asignatura.semestre2.disponible eq 'true'}"
                                            actionListener="#{inscripcionesBean.onMateriaClick(asignatura.semestre2)}"
                                            update=":seleccion:tabVista:growlMensajes
                                            :seleccion:tabVista:tablaHorarioSeleccionandoEmergente 
                                            :seleccion:tabVista:toolbarBotones"
                                            oncomplete="PF('selecionMateria').show()"
                                            style="color:#090811; font-size:12px; text-decoration:none; font-weight:normal;"
                                            onmouseover="this.style.color = '#FFFFFF';"
                                            onmouseout="this.style.color = '#090811';" />

                                        <h:outputText value="#{asignatura.semestre2.nombreMateria}" 
                                                      rendered="#{not asignatura.semestre2.disponible eq 'true'}"
                                                      style="font-size:12px; color: #{asignatura.semestre2.color=='cursando' ? '#FFFFFF' : '#090811'};" />

                                        <div style="color:#090811; text-align:center;">
                                            <h:outputText value="#{asignatura.semestre2.calificacion}" style="font-size:12px;" />
                                        </div>
                                    </p:column>
                                    <p:column styleClass="#{asignatura.semestre3.color}">
                                        <f:facet name="header">
                                            <h:outputText value="Semestre 3" style="font-size:13px; font-weight:bold; text-align:center; display:block;" />
                                        </f:facet>

                                        <div style="text-align:center;">
                                            <h:outputText value="#{asignatura.semestre3.materia}" style="font-size:12px; color: #{asignatura.semestre3.color=='cursando' ? '#FFFFFF' : '#090811'};" />
                                        </div>

                                        <p:commandLink  
                                            value="#{asignatura.semestre3.nombreMateria}" 
                                            rendered="#{asignatura.semestre3.disponible eq 'true'}"
                                            actionListener="#{inscripcionesBean.onMateriaClick(asignatura.semestre3)}"
                                            update=":seleccion:tabVista:growlMensajes 
                                            :seleccion:tabVista:tablaHorarioSeleccionandoEmergente 
                                            :seleccion:tabVista:toolbarBotones"
                                            oncomplete="PF('selecionMateria').show()"
                                            style="color:#090811; font-size:12px; text-decoration:none; font-weight:normal;"
                                            onmouseover="this.style.color = '#FFFFFF';"
                                            onmouseout="this.style.color = '#090811';" />

                                        <h:outputText value="#{asignatura.semestre3.nombreMateria}" 
                                                      rendered="#{not asignatura.semestre3.disponible eq 'true'}"
                                                      style="font-size:12px; color: #{asignatura.semestre3.color=='cursando' ? '#FFFFFF' : '#090811'};" />

                                        <div style="color:#090811; text-align:center;">
                                            <h:outputText value="#{asignatura.semestre3.calificacion}" style="font-size:12px;" />
                                        </div>
                                    </p:column>
                                    <p:column styleClass="#{asignatura.semestre4.color}">
                                        <f:facet name="header">
                                            <h:outputText value="Semestre 4" style="font-size:13px; font-weight:bold; text-align:center; display:block;" />
                                        </f:facet>

                                        <div style="text-align:center;">
                                            <h:outputText value="#{asignatura.semestre4.materia}" style="font-size:12px; color: #{asignatura.semestre4.color=='cursando' ? '#FFFFFF' : '#090811'};" />
                                        </div>

                                        <p:commandLink  
                                            value="#{asignatura.semestre4.nombreMateria}" 
                                            rendered="#{asignatura.semestre4.disponible eq 'true'}"
                                            actionListener="#{inscripcionesBean.onMateriaClick(asignatura.semestre4)}"
                                            update=":seleccion:tabVista:growlMensajes :seleccion:tabVista:tablaHorarioSeleccionandoEmergente 
                                            :seleccion:tabVista:toolbarBotones"
                                            oncomplete="PF('selecionMateria').show()"
                                            style="color:#090811; font-size:12px; text-decoration:none; font-weight:normal;"
                                            onmouseover="this.style.color = '#FFFFFF';"
                                            onmouseout="this.style.color = '#090811';" />

                                        <h:outputText value="#{asignatura.semestre4.nombreMateria}" 
                                                      rendered="#{not asignatura.semestre4.disponible eq 'true'}"
                                                      style="font-size:12px; color: #{asignatura.semestre4.color=='cursando' ? '#FFFFFF' : '#090811'};" />

                                        <div style="color:#090811; text-align:center;">
                                            <h:outputText value="#{asignatura.semestre4.calificacion}" style="font-size:12px;" />
                                        </div>
                                    </p:column>
                                    <p:column styleClass="#{asignatura.semestre5.color}">
                                        <f:facet name="header">
                                            <h:outputText value="Semestre 5" style="font-size:13px; font-weight:bold; text-align:center; display:block;" />
                                        </f:facet>

                                        <div style="text-align:center;">
                                            <h:outputText value="#{asignatura.semestre5.materia}" style="font-size:12px; color: #{asignatura.semestre5.color=='cursando' ? '#FFFFFF' : '#090811'};" />
                                        </div>

                                        <p:commandLink  
                                            value="#{asignatura.semestre5.nombreMateria}" 
                                            rendered="#{asignatura.semestre5.disponible eq 'true'}"
                                            actionListener="#{inscripcionesBean.onMateriaClick(asignatura.semestre5)}"
                                            update=":seleccion:tabVista:growlMensajes :seleccion:tabVista:tablaHorarioSeleccionandoEmergente 
                                            :seleccion:tabVista:toolbarBotones"
                                            oncomplete="PF('selecionMateria').show()"
                                            style="color:#090811; font-size:12px; text-decoration:none; font-weight:normal;"
                                            onmouseover="this.style.color = '#FFFFFF';"
                                            onmouseout="this.style.color = '#090811';" />

                                        <h:outputText value="#{asignatura.semestre5.nombreMateria}" 
                                                      rendered="#{not asignatura.semestre5.disponible eq 'true'}"
                                                      style="font-size:12px; color: #{asignatura.semestre5.color=='cursando' ? '#FFFFFF' : '#090811'};" />

                                        <div style="color:#090811; text-align:center;">
                                            <h:outputText value="#{asignatura.semestre5.calificacion}" style="font-size:12px;" />
                                        </div> 
                                    </p:column>
                                    <p:column styleClass="#{asignatura.semestre6.color}">
                                        <f:facet name="header">
                                            <h:outputText value="Semestre 6" style="font-size:13px; font-weight:bold; text-align:center; display:block;" />
                                        </f:facet>

                                        <div style="text-align:center;">
                                            <h:outputText value="#{asignatura.semestre6.materia}" style="font-size:12px; color: #{asignatura.semestre6.color=='cursando' ? '#FFFFFF' : '#090811'};" />
                                        </div>

                                        <p:commandLink  
                                            value="#{asignatura.semestre6.nombreMateria}" 
                                            rendered="#{asignatura.semestre6.disponible eq 'true'}"
                                            actionListener="#{inscripcionesBean.onMateriaClick(asignatura.semestre6)}"
                                            update=":seleccion:tabVista:growlMensajes :seleccion:tabVista:tablaHorarioSeleccionandoEmergente 
                                            :seleccion:tabVista:toolbarBotones"
                                            oncomplete="PF('selecionMateria').show()"
                                            style="color:#090811; font-size:12px; text-decoration:none; font-weight:normal;"
                                            onmouseover="this.style.color = '#FFFFFF';"
                                            onmouseout="this.style.color = '#090811';" />

                                        <h:outputText value="#{asignatura.semestre6.nombreMateria}" 
                                                      rendered="#{not asignatura.semestre6.disponible eq 'true'}"
                                                      style="font-size:12px; color: #{asignatura.semestre6.color=='cursando' ? '#FFFFFF' : '#090811'};" />

                                        <div style="color:#090811; text-align:center;">
                                            <h:outputText value="#{asignatura.semestre6.calificacion}" style="font-size:12px;" />
                                        </div>
                                    </p:column>

                                    <p:column styleClass="#{asignatura.semestre7.color}">

                                        <f:facet name="header">
                                            <h:outputText value="Semestre 7" style="font-size:13px; font-weight:bold; text-align:center; display:block;" />
                                        </f:facet>

                                        <div style="text-align:center;">
                                            <h:outputText value="#{asignatura.semestre7.materia}" style="font-size:12px; color: #{asignatura.semestre7.color=='cursando' ? '#FFFFFF' : '#090811'};" />
                                        </div>

                                        <p:commandLink  
                                            value="#{asignatura.semestre7.nombreMateria}" 
                                            rendered="#{asignatura.semestre7.disponible eq 'true'}"
                                            actionListener="#{inscripcionesBean.onMateriaClick(asignatura.semestre7)}"
                                            update=":seleccion:tabVista:growlMensajes 
                                            :seleccion:tabVista:tablaHorarioSeleccionandoEmergente 
                                            :seleccion:tabVista:toolbarBotones"
                                            oncomplete="PF('selecionMateria').show()"
                                            style="color:#090811; font-size:12px; text-decoration:none; font-weight:normal;"
                                            onmouseover="this.style.color = '#FFFFFF';"
                                            onmouseout="this.style.color = '#090811';" />

                                        <h:outputText value="#{asignatura.semestre7.nombreMateria}" 
                                                      rendered="#{not asignatura.semestre7.disponible eq 'true'}"
                                                      style="font-size:12px; color: #{asignatura.semestre7.color=='cursando' ? '#FFFFFF' : '#090811'};" />

                                        <div style="color:#090811; text-align:center;">
                                            <h:outputText value="#{asignatura.semestre7.calificacion}" style="font-size:12px;" />
                                        </div>
                                    </p:column>
                                    <p:column styleClass="#{asignatura.semestre8.color}">
                                        <f:facet name="header">
                                            <h:outputText value="Semestre 8" style="font-size:13px; font-weight:bold; text-align:center; display:block;" />
                                        </f:facet>

                                        <div style="text-align:center;">
                                            <h:outputText value="#{asignatura.semestre8.materia}" style="font-size:12px; color: #{asignatura.semestre8.color=='cursando' ? '#FFFFFF' : '#090811'};" />
                                        </div>

                                        <p:commandLink  
                                            value="#{asignatura.semestre8.nombreMateria}" 
                                            rendered="#{asignatura.semestre8.disponible eq 'true'}"
                                            actionListener="#{inscripcionesBean.onMateriaClick(asignatura.semestre8)}"
                                            update=":seleccion:tabVista:growlMensajes 
                                            :seleccion:tabVista:tablaHorarioSeleccionandoEmergente 
                                            :seleccion:tabVista:toolbarBotones"
                                            oncomplete="PF('selecionMateria').show()"
                                            style="color:#090811; font-size:12px; text-decoration:none; font-weight:normal;"
                                            onmouseover="this.style.color = '#FFFFFF';"
                                            onmouseout="this.style.color = '#090811';" />

                                        <h:outputText value="#{asignatura.semestre8.nombreMateria}" 
                                                      rendered="#{not asignatura.semestre8.disponible eq 'true'}"
                                                      style="font-size:12px; color: #{asignatura.semestre8.color=='cursando' ? '#FFFFFF' : '#090811'};" />

                                        <div style="color:#090811; text-align:center;">
                                            <h:outputText value="#{asignatura.semestre8.calificacion}" style="font-size:12px;" />
                                        </div>
                                    </p:column>
                                    <p:column styleClass="#{asignatura.semestre9.color}">
                                        <f:facet name="header">
                                            <h:outputText value="Semestre 9" style="font-size:13px; font-weight:bold; text-align:center; display:block;" />
                                        </f:facet>

                                        <div style="text-align:center;">
                                            <h:outputText value="#{asignatura.semestre9.materia}" style="font-size:12px; color: #{asignatura.semestre9.color=='cursando' ? '#FFFFFF' : '#090811'};" />
                                        </div>

                                        <p:commandLink  
                                            value="#{asignatura.semestre9.nombreMateria}" 
                                            rendered="#{asignatura.semestre9.disponible eq 'true'}"
                                            actionListener="#{inscripcionesBean.onMateriaClick(asignatura.semestre9)}"
                                            update=":seleccion:tabVista:tablaHorarioSeleccionandoEmergente 
                                            :seleccion:tabVista:toolbarBotones 
                                            :seleccion:tabVista:growlMensajes"
                                            oncomplete="PF('selecionMateria').show()"
                                            style="color:#090811; font-size:12px; text-decoration:none; font-weight:normal;"
                                            onmouseover="this.style.color = '#FFFFFF';"
                                            onmouseout="this.style.color = '#090811';" />

                                        <h:outputText value="#{asignatura.semestre9.nombreMateria}" 
                                                      rendered="#{not asignatura.semestre9.disponible eq 'true'}"
                                                      style="font-size:12px; color: #{asignatura.semestre9.color=='cursando' ? '#FFFFFF' : '#090811'};" />

                                        <div style="color:#090811; text-align:center;">
                                            <h:outputText value="#{asignatura.semestre9.calificacion}" style="font-size:12px;" />
                                        </div>
                                    </p:column>
                                </p:dataTable>

                                <p:dialog id="dlg" 
                                          header="Selecciona Grupo" 
                                          showEffect="fade" 
                                          modal="true" 
                                          widgetVar="selecionMateria" 
                                          responsive="true" 
                                          width="75%"
                                          position="center center">

                                    <h3 style="text-align:center;">Lista de Grupos</h3>

                                    <p:dataTable id="tablaHorarioSeleccionandoEmergente"
                                                 value="#{inscripcionesBean.listaHorarioAsignatura}"
                                                 var="item"
                                                 selection="#{inscripcionesBean.grupoSeleccionado}" 
                                                 selectionMode="single"
                                                 rowKey="#{item.grupo}"
                                                 style="font-size:12px; text-align:center;"
                                                 scrollable="true"
                                                 scrollHeight="500"
                                                 rowStyleClass="#{inscripcionesBean.grupoSeleccionado eq item ? 'row-highlight' : ''}">

                                        <p:ajax event="rowSelect" 
                                                listener="#{inscripcionesBean.onSeleccionarGrupo}" 
                                                update="tablaHorarioSeleccionandoEmergente 
                                                :seleccion:tabVista:tablaReticula 
                                                :seleccion:tabVista:tablaHorarioSeleccionado
                                                :seleccion:tabVista:toolbarBotones 
                                                :seleccion:tabVista:growlMensajes"
                                                oncomplete="PF('selecionMateria').hide();" />

                                        <p:column headerText="Grupo" style="width:4%;"><h:outputText value="#{item.grupo}" /></p:column>   
                                        <!-- ✅ Nueva columna para el campo Global -->
                                        <p:column headerText="Global" style="width:6%;">
                                            <p:selectBooleanCheckbox value="#{item.global}">
                                                <p:ajax event="change" update="tablaHorarioSeleccionandoEmergente" />
                                            </p:selectBooleanCheckbox>
                                        </p:column>
                                        <p:column headerText="Materia" style="width:8%;"><h:outputText value="#{item.materia}" /></p:column> 
                                        <p:column headerText="Asignatura" style="width:18%;"><h:outputText value="#{item.asignatura}" /></p:column> 
                                        <p:column headerText="Docente" style="width:11%;"><h:outputText value="#{item.docente}" /></p:column> 
                                        <p:column headerText="Lunes" style="width:10%;"><h:outputText value="#{item.lunes}" /></p:column>
                                        <p:column headerText="Martes" style="width:10%;"><h:outputText value="#{item.martes}" /></p:column> 
                                        <p:column headerText="Miércoles" style="width:10%;"><h:outputText value="#{item.miercoles}" /></p:column> 
                                        <p:column headerText="Jueves" style="width:10%;"><h:outputText value="#{item.jueves}" /></p:column>
                                        <p:column headerText="Viernes" style="width:10%;"><h:outputText value="#{item.viernes}" /></p:column>
                                        <p:column headerText="Sábado" style="width:9%;"><h:outputText value="#{item.sabado}" /></p:column>



                                    </p:dataTable>
                                </p:dialog>
                                <p:growl id="growlMensajes" showDetail="true" sticky="false" life="4000"/>

                                <p:panel header="HORARIOS SELECCIONADOS" style="margin-top:20px;">
                                    <p:dataTable id="tablaHorarioSeleccionado"
                                                 value="#{inscripcionesBean.listaHorarioASeleccionadas}" 
                                                 var="item"
                                                 style="font-size:12px; text-align:center; width:100%;"
                                                 scrollable="true" scrollHeight="400"
                                                 emptyMessage="No hay horarios seleccionados">

                                        <p:column headerText="Grupo" style="width:4%; font-size:13px; text-align:center">
                                            <h:outputText value="#{item.grupo}" />
                                        </p:column>
                                        <p:column headerText="Materia" style="width:8%; font-size:13px; text-align:center;">
                                            <h:outputText value="#{item.materia}" />
                                        </p:column>
                                        <p:column headerText="Asignatura" style="width:15%; font-size:13px; text-align:center;">
                                            <h:outputText value="#{item.asignatura}" />
                                        </p:column>
                                        <p:column headerText="Docente" style="width:15%; font-size:13px; text-align:center;">
                                            <h:outputText value="#{item.docente}" />
                                        </p:column>
                                        <p:column headerText="Lunes" style="width:10%; font-size:13px; text-align:center;">
                                            <h:outputText value="#{item.lunes}" />
                                        </p:column>
                                        <p:column headerText="Martes" style="width:10%; font-size:13px; text-align:center;">
                                            <h:outputText value="#{item.martes}" />
                                        </p:column>
                                        <p:column headerText="Miércoles" style="width:10%; font-size:13px; text-align:center;">
                                            <h:outputText value="#{item.miercoles}" />
                                        </p:column>
                                        <p:column headerText="Jueves" style="width:10%; font-size:13px; text-align:center;">
                                            <h:outputText value="#{item.jueves}" />
                                        </p:column>
                                        <p:column headerText="Viernes" style="width:10%; font-size:13px; text-align:center;">
                                            <h:outputText value="#{item.viernes}" />
                                        </p:column>
                                        <p:column headerText="Sábado" style="width:9%; font-size:13px; text-align:center;">
                                            <h:outputText value="#{item.sabado}" />
                                        </p:column>
                                    </p:dataTable>

                                    <!-- Botones -->
                                    <p:toolbar id="toolbarBotones" style="margin-top:10px;">
                                        <p:toolbarGroup>
                                            <p:commandButton value="Guardar Horario" 
                                                             icon="pi pi-save" 
                                                             action="#{inscripcionesBean.guardarHorario}" 
                                                             update="tablaHorarioSeleccionado 
                                                             :seleccion:tabVista:toolbarBotones :seleccion:tabVista:growlMensajes"
                                                             disabled="#{empty inscripcionesBean.listaHorarioASeleccionadas}" />

                                            <p:commandButton value="Eliminar Horario" 
                                                             icon="pi pi-trash" 
                                                             action="#{inscripcionesBean.eliminarHorario}" 
                                                             update="tablaHorarioSeleccionado 
                                                             :seleccion:tabVista:panelGrupos
                                                             :seleccion:tabVista:tablaReticula
                                                             :seleccion:tabVista:toolbarBotones :seleccion:tabVista:growlMensajes" 
                                                             style="margin-left:10px;" 
                                                             disabled="#{empty inscripcionesBean.listaHorarioASeleccionadas}" />
                                        </p:toolbarGroup>
                                    </p:toolbar>
                                </p:panel>





                            </p:tab>
                            <p:tab>



                                <f:facet name="title">
                                    <span>Grupo</span> <p:badge value="3" severity="danger" class="ml-1"></p:badge>
                                </f:facet>

                                <p:dialog id="dlg1" 

                                          showEffect="fade" 
                                          modal="true" 
                                          widgetVar="selecionMateriaGrupo" 
                                          responsive="true" 
                                          width="75%"
                                          position="center center">

                                    <h3 style="text-align:center;">Lista de Grupos</h3>

                                    <p:dataTable id="resultadosTabla1"
                                                 value="#{inscripcionesBean.listaHorarioAsignatura}"
                                                 var="item"
                                                 style="font-size:12px; text-align:center;"
                                                 scrollable="true"
                                                 scrollHeight="500">

                                        <p:column headerText="Grupo" style="width:4%; text-align:center;">
                                            <h:outputText value="#{item.grupo}" />
                                        </p:column>                        
                                        <p:column headerText="Materia" style="width:8%; text-align:center;">
                                            <h:outputText value="#{item.materia}" />
                                        </p:column> 
                                        <p:column headerText="Asignatura" style="width:18%; text-align:center;">
                                            <h:outputText value="#{item.asignatura}" />
                                        </p:column> 
                                        <p:column headerText="Docente" style="width:11%; text-align:center;">
                                            <h:outputText value="#{item.docente}" />
                                        </p:column> 
                                        <p:column headerText="Lunes" style="width:10%; text-align:center;">
                                            <h:outputText value="#{item.lunes}" />
                                        </p:column>
                                        <p:column headerText="Martes" style="width:10%; text-align:center;">
                                            <h:outputText value="#{item.martes}" />
                                        </p:column> 
                                        <p:column headerText="Miércoles" style="width:10%; text-align:center;">
                                            <h:outputText value="#{item.miercoles}" />
                                        </p:column> 
                                        <p:column headerText="Jueves" style="width:10%; text-align:center;">
                                            <h:outputText value="#{item.jueves}" />
                                        </p:column>
                                        <p:column headerText="Viernes" style="width:10%; text-align:center;">
                                            <h:outputText value="#{item.viernes}" />
                                        </p:column>
                                        <p:column headerText="Sábado" style="width:9%; text-align:center;">
                                            <h:outputText value="#{item.sabado}" />
                                        </p:column>
                                    </p:dataTable>

                                    <!-- Botón abajo a la derecha -->
                                    <div style="display:flex; justify-content:flex-end; margin-top:20px;">

                                        <p:commandButton value="Seleccionar Grupo"
                                                         icon="pi pi-check"
                                                         style="background:#03396c;
                                                         border-color:#03396c;
                                                         width:220px;
                                                         height:42px;
                                                         font-size:14px;
                                                         font-weight:bold;"
                                                         actionListener="#{inscripcionesBean.confirmarSeleccionGrupo}"
                                                         oncomplete="PF('selecionMateriaGrupo').hide();"
                                                         update="panelGrupos :seleccion:tabVista:tablaReticula :seleccion:tabVista:tablaHorarioSeleccionado" />
                                    </div>

                                </p:dialog>

                                <p:outputPanel id="panelGrupos" styleClass="#{inscripcionesBean.grupoBloqueado ? 'bloqueado' : ''}">
                                    <p:dataGrid value="#{inscripcionesBean.listaGC}" var="grupo"
                                                columns="3"
                                                styleClass="grupos-grid"
                                                layout="grid">

                                        <!-- HACER CLICKEABLE TODO EL PANEL -->
                                        <p:commandLink style="text-decoration:none; color:inherit;"
                                                       oncomplete="PF('selecionMateriaGrupo').show()"
                                                       actionListener="#{inscripcionesBean.verHorarios(grupo)}"
                                                       update=":seleccion:tabVista:resultadosTabla1"
                                                       disabled="#{inscripcionesBean.grupoBloqueado}">

                                            <p:panel styleClass="panel-grupo clickable-panel"
                                                     style="text-align:center; padding:15px; cursor:pointer;">

                                                <h:panelGrid columns="1" style="width:100%; text-align:center;" cellpadding="5">

                                                    <i class="pi pi-users" style="font-size:3em; color:#2196F3;"></i>

                                                    <h:outputText value="#{grupo}"
                                                                  style="font-weight:bold; font-size:1.2em; color:#333;" />
                                                </h:panelGrid>
                                             
                                            </p:panel>

                                        </p:commandLink>

                                    </p:dataGrid>
                                </p:outputPanel>
                            </p:tab>


                        </p:tabView>

                     
                    </h:form>
                </f:view>

            </ui:define>

        </ui:composition>
 
    </body>
</html>
