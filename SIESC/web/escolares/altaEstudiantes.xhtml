<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">


    <ui:composition template="templateEscolares.xhtml"
                    xmlns="http://www.w3.org/1999/xhtml"
                    xmlns:h="http://xmlns.jcp.org/jsf/html"
                    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                    xmlns:p="http://primefaces.org/ui"
                    xmlns:f="http://xmlns.jcp.org/jsf/core">

        <ui:define name="content">
            <h:form id="formAlta" styleClass="card card-shadow">

                <h2 class="form-title">
                    <i class="pi pi-user-plus"></i> Alta de Estudiante
                </h2>

                <p:panel header="Registro de Nuevo Alumno" styleClass="card custom-panel">



                    <!-- ================= DATOS GENERALES ================= -->
                    <h3 class="section-title">
                        <i class="pi pi-id-card"></i> Datos Generales
                    </h3>

                    <p:panelGrid columns="4" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-3">

                        <p:outputLabel value="No. Control" />
                        <p:inputText value="#{altaEstudiantesBean.numeroControl}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <p:outputLabel value="Apellido Paterno" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.apellidoPaterno}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <p:outputLabel value="Apellido Materno" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.apellidoMaterno}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <p:outputLabel value="Nombre" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.nombreAlumno}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>



                        <p:outputLabel value="Fecha de Nacimiento" />
                        <p:datePicker value="#{altaEstudiantesBean.estudiante.fechaNacimiento}" showIcon="true" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:datePicker>

                        <p:outputLabel value="Sexo" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.sexo}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Masculino" itemValue="M" />
                            <f:selectItem itemLabel="Femenino" itemValue="F" />
                            <p:ajax />
                        </p:selectOneMenu>

                        <p:outputLabel value="Estado Civil" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estadoCivil}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Soltero(a)" itemValue="S" />
                            <f:selectItem itemLabel="Casado(a)" itemValue="C" />
                            <p:ajax />
                        </p:selectOneMenu>

                        <p:outputLabel value="CURP" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.curpAlumno}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <p:outputLabel value="Correo Electrónico" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.correoElectronico}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <h:outputLabel for="tipoSangre" value="Tipo de sangre:" />
                        <p:selectOneMenu id="tipoSangre" value="#{altaEstudiantesBean.alumnoGeneral.tipoSangre}" panelStyle="width:150px">
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItem itemLabel="A+" itemValue="A+" />
                            <f:selectItem itemLabel="A-" itemValue="A-" />
                            <f:selectItem itemLabel="B+" itemValue="B+" />
                            <f:selectItem itemLabel="B-" itemValue="B-" />
                            <f:selectItem itemLabel="AB+" itemValue="AB+" />
                            <f:selectItem itemLabel="AB-" itemValue="AB-" />
                            <f:selectItem itemLabel="O+" itemValue="O+" />
                            <f:selectItem itemLabel="O-" itemValue="O-" />
                            <p:ajax />
                        </p:selectOneMenu>

                    </p:panelGrid>

                    <!-- ================= DOMICILIO ================= -->
                    <h3 class="section-title">
                        <i class="pi pi-home"></i> Domicilio
                    </h3>

                    <p:panelGrid columns="4" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-3">

                        <p:outputLabel value="Calle y Número" />
                        <p:inputText value="#{altaEstudiantesBean.domicilioCalle}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <p:outputLabel value="Colonia" />
                        <p:inputText value="#{altaEstudiantesBean.domicilioColonia}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <p:outputLabel value="Código Postal" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.codigoPostal}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <p:outputLabel value="Ciudad" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.ciudadProcedencia}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <p:outputLabel value="Entidad Federativa" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.numeroMunicipioEstudiante}" styleClass="ui-inputfield">
                            <p:ajax update="@this" process="@this" />
                            <f:selectItem itemLabel="Selecciona Entidad Federativa" itemValue="" noSelectionOption="true"/>
                            <f:selectItems
                                value="#{altaEstudiantesBean.listaEntidadFederativa}"
                                var="ent"
                                itemValue="#{ent.identidad}"
                                itemLabel="#{ent.nombreEntidad}" />
                        </p:selectOneMenu>

                        <p:outputLabel value="Teléfono" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.telefono}" styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputText>

                        <h:outputLabel for="municipio" value="Municipio:" />
                        <p:inputText id="municipio" value="#{altaEstudiantesBean.alumnoGeneral.municipio}">
                            <p:ajax />
                        </p:inputText>

                        <h:outputLabel for="telefonoEmergencia" value="Teléfono emergencia:" />
                        <p:inputMask id="telefonoEmergencia" value="#{altaEstudiantesBean.alumnoGeneral.telefonoEmergencia}">
                            <p:ajax />
                        </p:inputMask>

                    </p:panelGrid>



                    <!-- ================= DATOS ESCOLARES ================= -->
                    <h3 class="section-title">
                        <i class="pi pi-book"></i> Datos Escolares
                    </h3>

                    <p:panelGrid columns="4" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-3">

                        <!-- Carrera y Retícula -->
                        <p:outputLabel value="Carrera y Retícula" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.reticula}" styleClass="ui-inputfield">
                            <p:ajax />
                            <f:selectItem itemLabel="Seleccione carrera" itemValue="" />
                            <f:selectItems value="#{altaEstudiantesBean.listaCarreras}"
                                           var="car"
                                           itemLabel="#{car.nombreCarrera}"
                                           itemValue="#{car.reticula}"/>
                        </p:selectOneMenu>

                        <!-- Especialidad -->
                        <p:outputLabel value="Especialidad" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.especialidad}" styleClass="ui-inputfield">
                            <p:ajax />
                            <f:selectItem itemLabel="Sin especialidad" itemValue=""/>
                        </p:selectOneMenu>

                        <!-- Periodo Ingreso IT -->
                        <p:outputLabel value="Periodo Ingreso IT" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.periodoIngresoIt}" styleClass="ui-inputfield">
                            <p:ajax />
                            <f:selectItem itemLabel="Ene-Jun" itemValue="Ene-Jun"/>
                            <f:selectItem itemLabel="Ago-Dic" itemValue="Ago-Dic"/>
                        </p:selectOneMenu>

                        <!-- Año -->
                        <p:outputLabel value="Año" />
                        <p:inputNumber value="#{altaEstudiantesBean.anioIngreso}" 
                                       minValue="2000" maxValue="2100"
                                       styleClass="ui-inputfield">
                            <p:ajax />
                        </p:inputNumber>

                        <!-- Tipo ingreso -->
                        <p:outputLabel value="Tipo de Ingreso al Plantel" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.tipoIngreso}" styleClass="ui-inputfield">
                            <p:ajax />
                            <f:selectItem itemLabel="Examen Selección" itemValue="Examen"/>
                            <f:selectItem itemLabel="Reingreso" itemValue="Reingreso"/>
                        </p:selectOneMenu>

                        <!-- Plan de estudio -->
                        <p:outputLabel value="Plan de estudio" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.planDeEstudios}" styleClass="ui-inputfield">
                            <p:ajax />
                            <f:selectItem itemLabel="3- Competencias" itemValue="3"/>
                            <f:selectItem itemLabel="4- Competencias" itemValue="4"/>
                        </p:selectOneMenu>

                        <!-- Nivel Escolar -->
                        <p:outputLabel value="Nivel Escolar" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.nivelEscolar}" styleClass="ui-inputfield">
                            <p:ajax />
                            <f:selectItem itemLabel="Licenciatura" itemValue="L"/>
                            <f:selectItem itemLabel="TSU" itemValue="T"/>
                        </p:selectOneMenu>

                        <!-- Estatus -->
                        <p:outputLabel value="Estatus del Alumno" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.estatusAlumno}" styleClass="ui-inputfield">
                            <p:ajax />
                            <f:selectItem itemLabel="Activo" itemValue="ACT"/>
                        </p:selectOneMenu>

                        <!-- Tipo servicio médico -->
                        <p:outputLabel value="Tipo de servicio médico:" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.tipoServicioMedico}">
                            <p:ajax />
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItem itemLabel="IMSS" itemValue="IMSS" />
                            <f:selectItem itemLabel="ISSSTE" itemValue="ISSSTE" />
                            <f:selectItem itemLabel="Seguro Popular/INSABI" itemValue="INSABI" />
                            <f:selectItem itemLabel="Privado" itemValue="Privado" />
                        </p:selectOneMenu>

                        <!-- Clave -->
                        <p:outputLabel value="Clave servicio médico:" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.claveServicioMedico}">
                            <p:ajax />
                        </p:inputText>

                        <!-- Escuela procedencia -->
                        <p:outputLabel value="Escuela de procedencia:" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.escuelaProcedencia}">
                            <p:ajax />
                        </p:inputText>

                        <!-- Domicilio escuela -->
                        <p:outputLabel value="Domicilio de la escuela:" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.domicilioEscuela}">
                            <p:ajax />
                        </p:inputText>

                        <!-- Foto -->
                        <p:outputLabel value="Foto:" />
                        <p:fileUpload mode="advanced"
                                      fileLimit="1"
                                      auto="true"
                                      allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>

                        <!-- Firma -->
                        <p:outputLabel value="Firma:" />
                        <p:panelGrid columns="1" style="padding:0; margin:0;">
                            <p:signature id="firma"
                                         widgetVar="firmaWV"
                                         value="#{altaEstudiantesBean.firma}"
                                         style="width:200px; height:100px;">
                            </p:signature>

                            <p:commandButton value="Borrar firma"
                                             type="button"
                                             onclick="PF('firmaWV').clear();" />
                        </p:panelGrid>

                        <!-- ================= DATOS FAMILIARES ================= -->
                        <h3 class="section-title">
                            <i class="pi pi-users"></i> Datos Familiares
                        </h3>

                        <p:panelGrid columns="3" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-4">
                            <p:outputLabel value="Nombre del Padre" />
                            <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.nombrePadre}" styleClass="ui-inputfield">
                                <p:ajax />
                            </p:inputText>

                            <p:outputLabel value="Domicilio(calle y numero)" />
                            <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioCallePadre}" styleClass="ui-inputfield">
                                <p:ajax />
                            </p:inputText>

                            <p:outputLabel value="colonia" />
                            <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioColoniaPadre}" styleClass="ui-inputfield">
                                <p:ajax />
                            </p:inputText>

                            <p:outputLabel value="Ciudad o Estado" />
                            <p:selectOneMenu value="#{altaEstudiantesBean.numeroMunicipioPadre}" styleClass="ui-inputfield">
                                <p:ajax />
                                <f:selectItems
                                    value="#{altaEstudiantesBean.listaEntidadFederativa}"
                                    var="ent"
                                    itemValue="#{ent.identidad}"
                                    itemLabel="#{ent.nombreEntidad}" />
                            </p:selectOneMenu>

                            <p:outputLabel value="Teléfono" />
                            <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioTelefonoPadre}" styleClass="ui-inputfield">
                                <p:ajax />
                            </p:inputText>

                            <h:outputLabel for="ocupacionPadre" value="Ocupación del padre:" />
                            <p:inputText id="ocupacionPadre" value="#{altaEstudiantesBean.alumnoGeneral.ocupacionPadre}">
                                <p:ajax />
                            </p:inputText>

                            <h:outputLabel for="domicilioCiudadPadre" value="Domicilio / Ciudad (padre):" />
                            <p:inputText id="domicilioCiudadPadre" value="#{altaEstudiantesBean.alumnoGeneral.domicilioCiudadPadre}">
                                <p:ajax />
                            </p:inputText>
                        </p:panelGrid>


                        <p:panelGrid columns="4" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-3">
                            <p:outputLabel value="Nombre de la Madre" />
                            <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.nombreMadre}" styleClass="ui-inputfield">
                                <p:ajax />
                            </p:inputText>

                            <p:outputLabel value="Domicilio(calle y numero)" />
                            <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioCalleMadre}" styleClass="ui-inputfield">
                                <p:ajax />
                            </p:inputText>

                            <p:outputLabel value="Colonia" />
                            <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioColoniaMadre}" styleClass="ui-inputfield">
                                <p:ajax />
                            </p:inputText>

                            <p:outputLabel value="Ciudad o Estado" />
                            <p:selectOneMenu value="#{altaEstudiantesBean.numeroMunicipioMadre}" styleClass="ui-inputfield">
                                <p:ajax />
                                <f:selectItems
                                    value="#{altaEstudiantesBean.listaEntidadFederativa}"
                                    var="ent"
                                    itemValue="#{ent.identidad}"
                                    itemLabel="#{ent.nombreEntidad}" />
                            </p:selectOneMenu>

                            <p:outputLabel value="Teléfono" />
                            <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioTelefonoMadre}" styleClass="ui-inputfield">
                                <p:ajax />
                            </p:inputText>

                            <h:outputLabel for="ocupacionMadre" value="Ocupación de la madre:" />
                            <p:inputText id="ocupacionMadre" value="#{altaEstudiantesBean.alumnoGeneral.ocupacionMadre}">
                                <p:ajax />
                            </p:inputText>

                            <h:outputLabel for="domicilioCiudadMadre" value="Domicilio / Ciudad (madre):" />
                            <p:inputText id="domicilioCiudadMadre" value="#{altaEstudiantesBean.alumnoGeneral.domicilioCiudadMadre}">
                                <p:ajax />
                            </p:inputText>

                        </p:panelGrid>


                        <div class="buttons-container">
                            <p:commandButton value="Dar de Alta"
                                             action="#{altaEstudiantesBean.guardarPrueba}"
                                             update=""
                                             process="@this"
                                             icon="pi pi-check"
                                             styleClass="ui-button-success"/>
                            <p:button value="Regresar"
                                      outcome="listaAspirantes"
                                      icon="pi pi-arrow-left"
                                      styleClass="ui-button-secondary"/>
                        </div>
                          </p:panelGrid>
                </p:panel>
            </h:form>

            <!-- ================= ESTILOS ADICIONALES ================= -->
            <style>
                .form-title {
                    text-align: center;
                    font-size: 28px;
                    font-weight: bold;
                    color: #1976D2;
                    margin-bottom: 20px;
                }

                .card.custom-panel {
                    background: #f9fbfc !important;
                    border: 1px solid #cbd5e1;
                    border-radius: 12px !important;
                    padding: 20px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                }

                .section-title {
                    margin-top: 30px;
                    margin-bottom: 15px;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: center;
                    color: #1976D2;
                    border-bottom: 2px solid #BBDEFB;
                    padding-bottom: 5px;
                }

                .ui-inputfield {
                    border-radius: 8px !important;
                    box-shadow: none !important;
                }

                .buttons-container {
                    margin-top: 35px;
                    display: flex;
                    justify-content: center;
                    gap: 25px;
                }
            </style>
        </ui:define>
    </ui:composition>


</html>




