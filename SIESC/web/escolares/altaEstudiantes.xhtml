<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">


    <ui:composition template="templateEscolares.xhtml"
                    xmlns="http://www.w3.org/1999/xhtml"
                    xmlns:h="http://xmlns.jcp.org/jsf/html"
                    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                    xmlns:p="http://primefaces.org/ui"
                    xmlns:f="http://xmlns.jcp.org/jsf/core">

        <ui:define name="content">
            <h:form id="formAlta" styleClass="card card-shadow">

                <h2 class="form-title">
                    <i class="pi pi-user-plus"></i> Alta de Estudiante
                </h2>

                <p:panel header="Registro de Nuevo Alumno" styleClass="card custom-panel">



                    <!-- ================= DATOS GENERALES ================= -->
                    <h3 class="section-title">
                        <i class="pi pi-id-card"></i> Datos Generales
                    </h3>

                    <p:panelGrid columns="4" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-3">
                        <p:outputLabel value="No. Control" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.noDeControl}" styleClass="ui-inputfield"/>

                        <p:outputLabel value="Apellido Paterno" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.apellidoPaterno}" styleClass="ui-inputfield"/>

                        <p:outputLabel value="Apellido Materno" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.apellidoMaterno}" styleClass="ui-inputfield"/>

                        <p:outputLabel value="Nombre" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.nombreAlumno}" styleClass="ui-inputfield"/>

                        <p:outputLabel value="Lugar de Nacimiento" />
                        <p:datePicker value="#{altaEstudiantesBean.lugarNacimiento}" showIcon="true" styleClass="ui-inputfield"/>


                        <p:outputLabel value="Fecha de Nacimiento" />
                        <p:datePicker value="#{altaEstudiantesBean.estudiante.fechaNacimiento}" showIcon="true" styleClass="ui-inputfield"/>

                        <p:outputLabel value="Sexo" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.sexo}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Masculino" itemValue="M"/>
                            <f:selectItem itemLabel="Femenino" itemValue="F"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Estado Civil" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.estadoCivil}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Soltero(a)" itemValue="Soltero"/>
                            <f:selectItem itemLabel="Casado(a)" itemValue="Casado"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="CURP" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.curpAlumno}" styleClass="ui-inputfield"/>

                        <p:outputLabel value="Correo Electrónico" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.correoElectronico}" styleClass="ui-inputfield"/>

                        <h:outputLabel for="tipoSangre" value="Tipo de sangre:" />
                        <p:selectOneMenu id="tipoSangre" value="#{estudianteBean.tipoSangre}" panelStyle="width:150px">
                            <f:selectItem itemLabel="Seleccione" itemValue=""/>
                            <f:selectItem itemLabel="A+" itemValue="A+"/>
                            <f:selectItem itemLabel="A-" itemValue="A-"/>
                            <f:selectItem itemLabel="B+" itemValue="B+"/>
                            <f:selectItem itemLabel="B-" itemValue="B-"/>
                            <f:selectItem itemLabel="AB+" itemValue="AB+"/>
                            <f:selectItem itemLabel="AB-" itemValue="AB-"/>
                            <f:selectItem itemLabel="O+" itemValue="O+"/>
                            <f:selectItem itemLabel="O-" itemValue="O-"/>
                        </p:selectOneMenu>


                    </p:panelGrid>

                    <!-- ================= DOMICILIO ================= -->
                    <h3 class="section-title">
                        <i class="pi pi-home"></i> Domicilio
                    </h3>

                    <p:panelGrid columns="4" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-3">
                        <p:outputLabel value="Calle y Número" />
                        <p:inputText value="#{altaEstudiantesBean.domicilioCalle}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="Colonia" />
                        <p:inputText value="#{altaEstudiantesBean.domicilioColonia}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="Código Postal" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.codigoPostal}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="Ciudad" />
                        <p:inputText value="#{altaEstudiantesBean.estudiante.ciudadProcedencia}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="Entidad Federativa" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.numeroMunicipioEstudiante}" styleClass="ui-inputfield">
                            <f:selectItems
                                value="#{altaEstudiantesBean.listaEntidadFederativa}"
                                var="ent"
                                itemValue="#{ent.identidad}"
                                itemLabel="#{ent.nombreEntidad}" />
                        </p:selectOneMenu>
                        <p:outputLabel value="Teléfono" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.telefono}" styleClass="ui-inputfield"/>

                        <h:outputLabel for="municipio" value="Municipio:" />
                        <p:inputText id="municipio" value="#{estudianteBean.municipio}" />

                        <h:outputLabel for="telefonoEmergencia" value="Teléfono emergencia:" />
                        <p:inputMask id="telefonoEmergencia" value="#{estudianteBean.telefonoEmergencia}" />  


                    </p:panelGrid>



                    <!-- ================= DATOS ESCOLARES ================= -->
                    <h3 class="section-title">
                        <i class="pi pi-book"></i> Datos Escolares
                    </h3>

                    <p:panelGrid columns="4" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-3">
                        <p:outputLabel value="Carrera y Retícula" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.reticula}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Seleccione carrera" itemValue="" />
                            <f:selectItems value="#{altaEstudiantesBean.listaCarreras}"
                                           var="car"
                                           itemLabel="#{car.nombreCarrera}"
                                           itemValue="#{car}"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Especialidad" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.especialidad}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Sin especialidad" itemValue=""/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Periodo Ingreso IT" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.periodoIngresoIt}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Ene-Jun" itemValue="Ene-Jun"/>
                            <f:selectItem itemLabel="Ago-Dic" itemValue="Ago-Dic"/>

                            <p:outputLabel value="Año" />
                            <p:inputNumber value="#{altaEstudiantesBean.anioIngreso}" minValue="2000" maxValue="2100" styleClass="ui-inputfield"/>

                        </p:selectOneMenu>


                        <p:outputLabel value="Tipo de Ingreso al Plantel" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.tipoIngreso}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Examen Selección" itemValue="Examen"/>
                            <f:selectItem itemLabel="Reingreso" itemValue="Reingreso"/>
                        </p:selectOneMenu>



                        <p:outputLabel value="Plan de estudio" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.planDeEstudios}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="3- Competencias" itemValue="Examen"/>
                            <f:selectItem itemLabel="4- Competencias" itemValue="Reingreso"/>
                        </p:selectOneMenu>


                        <p:outputLabel value="Nivel Escolar" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.nivelEscolar}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Licenciatura" itemValue="Licenciatura"/>
                            <f:selectItem itemLabel="TSU" itemValue="TSU"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Estatus del Alumno" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.estudiante.estatusAlumno}" styleClass="ui-inputfield">
                            <f:selectItem itemLabel="Activo" itemValue="Activo"/>
                        </p:selectOneMenu>

                        <h:outputLabel for="tipoServicioMedico" value="Tipo de servicio médico:" />
                        <p:selectOneMenu id="tipoServicioMedico" value="#{estudianteBean.tipoServicioMedico}">
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItem itemLabel="IMSS" itemValue="IMSS" />
                            <f:selectItem itemLabel="ISSSTE" itemValue="ISSSTE" />
                            <f:selectItem itemLabel="Seguro Popular/INSABI" itemValue="INSABI" />
                            <f:selectItem itemLabel="Privado" itemValue="Privado" />
                        </p:selectOneMenu>


                        <h:outputLabel for="claveServicioMedico" value="Clave servicio médico:" />
                        <p:inputText id="claveServicioMedico" value="#{estudianteBean.claveServicioMedico}" />


                        <h:outputLabel for="escuelaProcedencia" value="Escuela de procedencia:" />
                        <p:inputText id="escuelaProcedencia" value="#{estudianteBean.escuelaProcedencia}" />


                        <h:outputLabel for="domicilioEscuela" value="Domicilio de la escuela:" />
                        <p:inputText id="domicilioEscuela" value="#{estudianteBean.domicilioEscuela}" />



                        <h:outputLabel for="foto" value="Foto:" />
                        <p:fileUpload id="foto" mode="advanced" fileLimit="1" auto="true" update="fotoPreview msgs" allowTypes="(image).*/>


                                      <h:outputLabel for="foto" value="Firma" />
                        <p:panelGrid columns="1">
                            <p:signature id="firma" value="#{estudianteBean.firma}" width="50" height="20" />
                            <p:commandButton value="Borrar firma" type="button" onclick="PF('firma').clear();" />
                        </p:panelGrid>   




                    </p:panelGrid>

                    <!-- ================= DATOS FAMILIARES ================= -->
                    <h3 class="section-title">
                        <i class="pi pi-users"></i> Datos Familiares
                    </h3>

                    <p:panelGrid columns="4" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-3">
                        <p:outputLabel value="Nombre del Padre" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.nombrePadre}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="Domicilio(calle y numero)" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioCallePadre}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="colonia" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioColoniaPadre}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="Ciudad o Estado" />

                        <p:selectOneMenu value="#{altaEstudiantesBean.numeroMunicipioPadre}" styleClass="ui-inputfield">
                            <f:selectItems
                                value="#{altaEstudiantesBean.listaEntidadFederativa}"
                                var="ent"
                                itemValue="#{ent.identidad}"
                                itemLabel="#{ent.nombreEntidad}" />
                        </p:selectOneMenu>
                        <p:outputLabel value="Teléfono" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioTelefonoPadre}" styleClass="ui-inputfield"/>

                        <h:outputLabel for="ocupacionPadre" value="Ocupación del padre:" />
                        <p:inputText id="ocupacionPadre" value="#{estudianteBean.ocupacionPadre}" />


                        <h:outputLabel for="domicilioCiudadPadre" value="Domicilio / Ciudad (padre):" />
                        <p:inputText id="domicilioCiudadPadre" value="#{estudianteBean.domicilioCiudadPadre}" />
                    </p:panelGrid>


                    <p:panelGrid columns="4" styleClass="ui-fluid" columnClasses="ui-g-12 ui-md-3">
                        <p:outputLabel value="Nombre de la Madre" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.nombreMadre}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="Domicilio(calle y numero)" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioCalleMadre}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="Colonia" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioColoniaMadre}" styleClass="ui-inputfield"/>
                        <p:outputLabel value="Ciudad o Estado" />
                        <p:selectOneMenu value="#{altaEstudiantesBean.numeroMunicipioMadre}"
                                         styleClass="ui-inputfield">

                            <f:selectItems
                                value="#{altaEstudiantesBean.listaEntidadFederativa}"
                                var="ent"
                                itemValue="#{ent.identidad}"
                                itemLabel="#{ent.nombreEntidad}" />

                        </p:selectOneMenu>
                        <p:outputLabel value="Teléfono" />
                        <p:inputText value="#{altaEstudiantesBean.alumnoGeneral.domicilioTelefonoMadre}" styleClass="ui-inputfield"/>

                        <h:outputLabel for="ocupacionMadre" value="Ocupación de la madre:" />
                        <p:inputText id="ocupacionMadre" value="#{estudianteBean.ocupacionMadre}" />


                        <h:outputLabel for="domicilioCiudadMadre" value="Domicilio / Ciudad (madre):" />
                        <p:inputText id="domicilioCiudadMadre" value="#{estudianteBean.domicilioCiudadMadre}" />

                    </p:panelGrid>

                    <!-- ================= BOTONES ================= -->
                    <div class="buttons-container">
                        <p:commandButton value="Dar de Alta"
                                         action="#{altaEstudiantesBean.guardar}"
                                         update="@form"
                                         process="@this"
                                         icon="pi pi-check"
                                         styleClass="ui-button-success"/>
                        <p:button value="Regresar"
                                  outcome="listaAspirantes"
                                  icon="pi pi-arrow-left"
                                  styleClass="ui-button-secondary"/>
                    </div>
                </p:panel>
            </h:form>

            <!-- ================= ESTILOS ADICIONALES ================= -->
            <style>
                .form-title {
                    text-align: center;
                    font-size: 28px;
                    font-weight: bold;
                    color: #1976D2;
                    margin-bottom: 20px;
                }

                .card.custom-panel {
                    background: #f9fbfc !important;
                    border: 1px solid #cbd5e1;
                    border-radius: 12px !important;
                    padding: 20px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                }

                .section-title {
                    margin-top: 30px;
                    margin-bottom: 15px;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: center;
                    color: #1976D2;
                    border-bottom: 2px solid #BBDEFB;
                    padding-bottom: 5px;
                }

                .ui-inputfield {
                    border-radius: 8px !important;
                    box-shadow: none !important;
                }

                .buttons-container {
                    margin-top: 35px;
                    display: flex;
                    justify-content: center;
                    gap: 25px;
                }
            </style>
        </ui:define>
    </ui:composition>


</html>




